<!DOCTYPE html>
<html>
<head>
    <title> Government Land and Endangered Vegetation</title>
    <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" crossorigin="" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" crossorigin=""></script>
    <script src="https://unpkg.com/esri-leaflet@3.0.10/dist/esri-leaflet.js"></script>
    <script src="https://unpkg.com/esri-leaflet-vector@4.1.0/dist/esri-leaflet-vector.js" crossorigin=""></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <style>
        #map { height: 500px; width: 1000px; }
        html, body { height: 100%; margin: 0; padding: 0; }
        #buttons { padding: 5px; }
    </style>
</head>
<body onload="initialize()">
    <h1> Are Endangered Species Protected Within Government Land? </h1>
    <div id="map"></div>
    <div id="buttons">
        <button id="toggleGov">Toggle the Government Wilderness Land Layer</button>
    </div>

    <script>
        function initialize() {
            var vegLayer;
            var govLayer;
            var govVisible = false;
            var vegVisible = true;
            const apiKey = "AAPK5c56055b0da1494abff6de6f7d7455c8zhvX__FodLqdRT-HFqoHfFXoa6-FTvBdD5zX_UQ85CR-RXVk0mOieuNm0Bv-oV6O";
            const map = L.map("map").setView([39.809860, -98.555183], 4.2);

            L.esri.Vector.vectorBasemapLayer("osm/standard-relief", {
                apikey: apiKey
            }).addTo(map);

            vegLayer= L.esri.imageMapLayer({
                url: "https://landscape12.arcgis.com/arcgis/rest/services/USA_CONUS_imperiled_species_richness_Plants/ImageServer",
                apiKey: apiKey,
                opacity: 0.8, 
                useCors: false
            }).addTo(map);

            govLayer = L.esri.featureLayer({
                url: "https://services1.arcgis.com/ERdCHt0sNM6dENSD/ArcGIS/rest/services/Wilderness_Areas_in_the_United_States/FeatureServer/0",
                apiKey: apiKey,
                opacity: 0.8, 
                useCors: false,
                color: green
            });
        
            
          $("#toggleGov").click(function () {
          if (govVisible) {
            govVisible = false;
            govLayer.removeFrom(map);
          } else { govVisible= true; 
                  govLayer.addTo(map);
          }
        });
      }
    </script>
</body>
</html>

